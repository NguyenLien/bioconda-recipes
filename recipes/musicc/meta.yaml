{% set version = "1.0.2" %}

package:
  name: musicc
  version: {{ version }}

source:
  fn: MUSiCC-{{ version }}.tar.gz
  url: https://pypi.io/packages/source/M/MUSiCC/MUSiCC-{{ version }}.tar.gz
  sha256: 8e53bb2932e0189ef0d6c26b4e7b31d466f2ecb1fe2609ded8223e1d7704a643

build:
  number: 0
  # Python 3.6 builds for scikit-learn <0.18 are not available on conda-forge
  skip: True  # [py36]

requirements:
  build:
    - python
    - setuptools
    - numpy >=1.6.1
    - scipy >=0.9
    # musicc imports sklearn.utils.ConvergenceWarning which is moved to sklearn.exceptions in scikit-learn 0.18
    - scikit-learn >=0.15.2,<0.18
    - pandas >=0.14

  run:
    - python
    - numpy >=1.6.1
    - scipy >=0.9
    # musicc imports sklearn.utils.ConvergenceWarning which is moved to sklearn.exceptions in scikit-learn 0.18
    - scikit-learn >=0.15.2,<0.18
    - pandas >=0.14

test:
  imports:
    - musicc.core

about:
  home: http://elbo.gs.washington.edu/software_musicc.html
  license: BSD License
  summary: 'MUSICC: A marker genes based framework for metagenomic normalization and accurate profiling of gene abundances in the microbiome.'
